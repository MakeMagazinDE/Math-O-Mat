
<p>&nbsp;</p>
<p>&nbsp;</p>

<h1>Train your Brain !</h1>

<table>
<thead>
<tr>
<td>
<h4>No1</h4>
</td>
<td>
<h4>...</h4>
</td>
<td>
<h4>&nbsp;No2</h4>
</td>
<td>
<h4>=</h4>
</td>
<td>
<h4></h4>
</td>
<td>
<h4>Result</h4>
</td>
</tr>
</thead>
<tbody>
<tr>
<td style='text-align: center;'>
<p><strong><span id='sum1'>-</span></strong></p>
</td>
<td style='text-align: center;'>
<p><strong>+</strong></p>
</td>
<td style='text-align: center;'>
<p><strong><span id='sum2'>-</span></strong></p>
</td>
<td style='text-align: center;'>
<p><strong>=</strong></p>
</td>
<td><td><input type='number' name='lsgAdd' id='lsgAdd' max='9999' min='-9999' step='1'></td></td>
</tr>
<tr>
<td style='text-align: center;'>
<p><strong><span id='sub1'>-</span></strong></p>
</td>
<td style='text-align: center;'>
<p><strong>-</strong></p>
</td>
<td style='text-align: center;'>
<p><strong><span id='sub2'>-</span></strong></p>
</td>
<td style='text-align: center;'>
<p><strong>=</strong></p>
</td>
<td><td><input type='number' name='lsgSub' id='lsgSub' max='9999' min='-9999' step='1'></td></td>
</tr>
<tr>
<td style='text-align: center;'>
<p><strong><span id='prod1'>-</span></strong></p>
</td>
<td style='text-align: center;'>
<p><strong>*</strong></p>
</td>
<td style='text-align: center;'>
<p><strong><span id='prod2'>-</span></strong></p>
</td>
<td style='text-align: center;'>
<p><strong>=</strong></p>
</td>
<td><td><input type='number' name='lsgProd' id='lsgProd' max='9999' min='-9999' step='1'></td></td>
</tr>
<tr>
<td style='text-align: center;'>
<p><strong><span id='div1'>-</span></strong></p>
</td>
<td style='text-align: center;'>
<p><strong>/</strong></p>
</td>
<td style='text-align: center;'>
<p><strong><span id='div2'>-</span></strong></p>
</td>
<td style='text-align: center;'>
<p><strong>=</strong></p>
</td>
<td><td><input type='number' name='lsgDiv' id='lsgDiv' max='9999' min='-9999' step='1'></td></td>
</tr>
</tbody>
</table>
<p><button id='BTN_CHECK' type='button'>Check result </button></p>
<p><button id='BTN_SEND_BACK' type='button' hidden>Continue </button></p>


<script>


  var Socket;
  var obj;
  var CorrectAnswers;
  document.getElementById('BTN_CHECK').addEventListener('click', button_check_result);
  document.getElementById('BTN_SEND_BACK').addEventListener('click', button_send_back);
  function init() {
    Socket = new WebSocket('ws://' + window.location.hostname + ':81/');
    Socket.onmessage = function(event) {
      processCommand(event);
    };
  }
  function button_check_result() {
	CorrectAnswers = 0;
	document.getElementById('lsgAdd').setAttribute('disabled', '');
	document.getElementById('lsgSub').setAttribute('disabled', '');
 	document.getElementById('lsgProd').setAttribute('disabled', '');
	document.getElementById('lsgDiv').setAttribute('disabled', '');
	if (document.getElementById('lsgAdd').value == obj.LSGadd){
		CorrectAnswers += 1;
		document.getElementById('lsgAdd').style.color = 'green';
	} else {
		document.getElementById('lsgAdd').style.color = 'red';
	}
	if (document.getElementById('lsgSub').value == obj.LSGsub){
		CorrectAnswers += 1;
		document.getElementById('lsgSub').style.color = 'green';

	} else  {
		document.getElementById('lsgSub').style.color = 'red';
	}
	if (document.getElementById('lsgProd').value == obj.LSGprod){
		CorrectAnswers += 1;
		document.getElementById('lsgProd').style.color = 'green';
	} else  {
		document.getElementById('lsgProd').style.color = 'red';
	}
	if (document.getElementById('lsgDiv').value == obj.LSGdiv){
		CorrectAnswers += 1;
		document.getElementById('lsgDiv').style.color = 'green';
	} else  {
		document.getElementById('lsgDiv').style.color = 'red';
	}
    console.log(CorrectAnswers);
	document.getElementById('BTN_CHECK').setAttribute('hidden', 'hidden');
	document.getElementById('BTN_SEND_BACK').removeAttribute('hidden');

  }
  function button_send_back() {
  var loesungen = {
	count: CorrectAnswers,
	};
	ResetCounter = 0;
	document.getElementById('lsgAdd').value = '';
	document.getElementById('lsgSub').value = '';
	document.getElementById('lsgProd').value = '';
	document.getElementById('lsgDiv').value = '';
	document.getElementById('lsgAdd').style.color = 'black';
	document.getElementById('lsgSub').style.color = 'black';
	document.getElementById('lsgProd').style.color = 'black';
	document.getElementById('lsgDiv').style.color = 'black';
    console.log(JSON.stringify(loesungen));
    Socket.send(JSON.stringify(loesungen));
	document.getElementById('BTN_CHECK').removeAttribute('hidden');
	document.getElementById('BTN_SEND_BACK').setAttribute('hidden', 'hidden');
  }
  function processCommand(event) {
	obj = JSON.parse(event.data);
    document.getElementById('sum1').innerHTML = obj.sum1;
    document.getElementById('sum2').innerHTML = obj.sum2;
    document.getElementById('sub1').innerHTML = obj.sub1;
    document.getElementById('sub2').innerHTML = obj.sub2;
    document.getElementById('prod1').innerHTML = obj.prod1;
    document.getElementById('prod2').innerHTML = obj.prod2;
    document.getElementById('div1').innerHTML = obj.div1;
    document.getElementById('div2').innerHTML = obj.div2;
	document.getElementById('lsgAdd').removeAttribute('disabled', '');
	document.getElementById('lsgSub').removeAttribute('disabled', '');
 	document.getElementById('lsgProd').removeAttribute('disabled', '');
	document.getElementById('lsgDiv').removeAttribute('disabled', '');
    console.log(obj.sum1);
    console.log(obj.sum2);
 }
  window.onload = function(event) {
    init();
  }
</script>
</html>